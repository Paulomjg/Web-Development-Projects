<%- include("partials/header.ejs") %>


<h1>Recent Posts</h1>


<% if (typeof posts !== 'undefined' && posts.length > 0) { %>
    <% posts.forEach(post => { %>
      <article>
        <h2><%= post.title %></h2>
        <p><%= post.content %></p>

        <a href="/edit/<%= post.id %>">Edit</a> |
        <form action="/delete/<%= post.id %>" method="POST" style="display:inline;">
          <button type="submit">Delete</button>
        </form>
      </article>
    <% }) %>
<% } else { %>
    <p>Nenhum post ainda.</p>
<% } %>


<h1>New Post</h1>

<form action="/posts" method="POST">
    <label for="title">Title: </label>
    <input type="text" name="title" id="title" required><br><br>

    <label for="content">Content: </label>
    <textarea name="content" id="content" cols="30" rows="10" required></textarea>
    <button type="submit">Publish</button>
</form>

<%- include('partials/footer') %>